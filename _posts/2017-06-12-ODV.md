---
layout: post
date: 2017-06-12 15:26
categories: Research
title: Ocean Data View 快速上手指南
---

<style>
table{
    border-collapse: collapse;
    border-spacing: 0;
    border:2px solid #000000;
}

th{
    border:2px solid #000000;
}

td{
    border:1px solid #000001;
}
</style>

## 1. Ocean Data View (ODV)概况
### 1.1 安装
在使用ODV软件之前，请现行安装ODV软件。ODV已开发出适用于Windows,Mac OS X, Linux, UNIX等操作系统的安装程序。

安装程序可以通过[淘宝](https://item.taobao.com/item.htm?id=552739134487)购买。

同时也可以从ODV[官方网站](http://odv.awi.de/en/software/download/)下载，下载前需要注册成为该网站的会员。

ODV软件支持的操作平台包括：Windows XP, Vista, 7, 8和10; 高于Mac OS 10.5的Mac OS版本; 自2006年6月以来Linux发布的任何系统运行的kernel版本不低于2.6.15；Debian 7.7, Ubuntu 12.0.4，14.0.4和CentOS 7.

Windows操作系统中，程序的安装过程中会自动关联后缀名为.odv和.var的文件。双击这些文件将会打开ODV程序，并打开该文件。您也可以将这些文件拖动到ODV 的程序图标，或者ODV的界面中，打开这些文件。当然您也可以通过菜单栏上的 File -->Open...来打开这些文件。

### 1.2 个性化

安装完ODV软件之后，我们可以通过`View--->Settings`进入设置选项卡进行用户的个性化设置。例如，我们可以通过左侧的`View--->Fonts`来设置窗口中的字体，粗体，斜体和字体大小等；在`Gridded Bathymetry--->Resources`中设置和下载和海底地形图；在`Map--->Resources`中设置和下载高分辨率的地图;在`System--->Program Location`中设置打开帮助文档的默认浏览器。该部分在"User's Guide"的2.12部分中有详细介绍。

### 1.3 ODV用户文件夹

在ODV软件的安装过程中，ODV自动创建用户文件夹。该用户文件夹包含了用户下载的地图资源和用户自行导入或设计的色彩文件，宏文件，命令行和图片文件。默认的用户文件夹中的`data`文件夹中有两个子文件夹`MapView`和`SAVE`，其中存有一些示例。我们可以将我们的数据和文件保存在`data`文件夹中的其他子文件夹中。

用户可以自行创建色彩文件，宏文件，命令行和图片文件并保存在不同的子文件夹中。值得注意的是，保存这些文件的时候，我们首先需要建立一个新的文件夹，然后再分别保存。否则，我们会将旧文件覆盖，从而造成不必要的损失。

### 1.4 数据模型

ODV
ODV使用的是一套新的数据模型，这套数据模型使用于海洋学研究中的站位剖面，断面和时间序列。一个站位需要有多个基础数据(meta data)。
一些基础数据(meta data)是必须的（比如站位名称，站位地点，采样时间等等），而其他的数据不是必须的。需要时可以自行添加基础数据。
ODV不限制数据变量的个数。基础数据和数据变量的数据类型可以是1-8位的整数，也可以是实数。

ODV可以对站位(Stattion)和样品(Sample)进行筛选。
通过右击`Map--->Station Selection Criteria ...`进入站位筛选器。
![](\image\Station Selection.jpg)
通过右击`任意一个数据窗口--->Sample Selection Criteria`进入样品筛选器。
![](\image\Sample Selection.jpg)
每一个窗口都有自己的样品筛选器。样品的筛选可以根据数据质量(quality flags)，也可以根据数据值的区间范围来选定。
数据质量和数据区间的筛选是分布独立进行的。


### 1.5 数据导入

- 我们可以通过菜单栏上的"Import"导入菜单添加新数据到当前数据集中。

- ODV支持多种多样的数据格式和数据类型。

- 首先我们需要从菜单栏中选择一种符合我们的需要导入的数据的数据格式和数据类型。

- 或者，可以建立一个列表文件(.lst)。在这个列表文件中的文件均将被导入进入数据集中。

### 1.6 向下兼容性

ODV具有很好的向下兼容性。对于使用之前版本建立的ODV文件，包括数据，视图等，新版的ODV均可兼容。

### 1.7 详细帮助文件

当您需要更多帮助时，请点击菜单栏上的Help--->User's Guide。

同时，在ODV的诸多对话框中也很容易找到Help按键。点击该按键即可获得相关的帮助信息。

如需要PDF版本的帮助文档，请点击以下链接。

[PDF版本的帮助文档](http://odv.awi.de/en/documentation/)

### 2 窗口界面说明
![](\image\image001-chi.jpg)

**菜单栏**：最上面的那一栏，提供绝大多数功能入口。


**画布**: 中间这块最大面积的区域，包含一张地图（这张地图不能被删掉，但是我们可以通过调整地图的大小达到让它消失的效果）和数量不定的一到多张数据窗口。画布，地图和数据窗口可包含数量不等的图形组件，包括：文字注释，符号和用户自定义图形。


__状态栏__：状态栏上呈现几点信息：1.状态信息：待机中，计算中，画图中等等。2.鼠标现在所在的位置坐标。3.被选中的站位的个数，总站位个数，当前视图名称。星号表示当前视图尚未保存。


__当前站位窗口__：该窗口呈现当前站位的基本信息。(当前站位再地图和数据窗口中均由红色的十字符标出。)


__当前样品窗口__： 该窗口中呈现当前站位的数据测值和数据质量。(当前站位再地图和数据窗口中均由红色的十字符标出。)只有符合选择标准的样品才会被呈现出来。


__单层信息窗口__： 该窗口中呈现的是单层(isosurface)信息的值。

鼠标左击地图上的站位或者数据窗口中的数据点，就可以选择相应的站位或数据点了。

鼠标右击窗口的任意位置则会弹出各种类型的菜单选项。

鼠标悬停在某个菜单的某处则会出现关于该选项的更多信息。

__地图窗口__ ： 地图窗口是不能被移除出画布的，但我们可以通过调节地图窗口的大小，变相将地图窗口移除。地图窗口中展示的是一些符合选择条件的站位点。在地图窗口中，我们还可以选取站位点，定义断面。

**数据窗口** 有以下几种类型：


- **站位图**：该图展示的是挑选出来的单站位数据图。被挑选出来的站位在站位图中的图例和在地图上的图例呈现一样的颜色和形状。

- **散点图**：该图展示的是符合选取条件的全部站位的散点数据图。

- **断面图**： 该图展示一个断面的数据分布。

- **平面分布图**：该图将展示单层平面分布的数据。

__视图__ 是指当前窗口的布局和一些参数的设置。我们可以将一个视图保存成一个文件以备后用。

一个画布中存在一张地图和若干数据窗口。地图和数据窗口的大小和位置均可在布局模式下改变。任何数据窗口均可被删除，但是地图不能被删除。

在地图和数据窗口中单击鼠标右键，在弹出的菜单中选择"Properties"属性，则弹出"Properties"属性对话框。按下Alt-P也可以起到同样的效果。

![](\image\Properties.jpg)

### 3. 键盘和鼠标操作

### 3.1 常规鼠标操作

| 动作          | 对象                                     | 响应                         |
|---------------|------------------------------------------|------------------------------|
| 左击          | 地图                                     | 选择最近的一个站位           |
|               | 数据窗口                                 | 选择最近的一个数据点和站位   |
| 左键双击      | 地图                                     | 将最近的站位添加到选择列表中 |
| 左键拖拽      | 图形对象                                 | 拖动图形对象                 |
|               | 画布，地图，数据窗口                     | 拖动画布                     |
| Ctrl+左键拖拽 | 地图                                     | 快速放大地图                 |
|               | 数据窗口                                 | 快速放大数据窗口             |
| 右键          | 画布，地图，数据窗口，图形对象，数据列表 | 调出响应的菜单               |
| Shift+右键    | 地图，数据窗口                           | 调查Extras菜单               |

### 3.2 常规键盘快捷键

| 键盘操作                        | 响应                                                                             |
|---------------------------------|----------------------------------------------------------------------------------|
| Enter or Return                 | 将当前站位加入选取站位中，在布局模式下，接受当前的布局，回到正常模式             |
| Del or Backspace                | 删除图形，从选取站位中移除当前站位，在布局模式下，删除鼠标所指的窗口             |
| →                               | 选择下一个站位                                                                   |
| ←                               | 选择上一个站位                                                                   |
| HOME                            | 选择第一个样品                                                                   |
| ↓                               | 选择下一个样品（同一个站位）                                                     |
| ↑                               | 选择上一个样品（同一个站位）                                                     |
| END                             | 选择最后一个样品                                                                 |
| Ctrl-?(Mac), F1(others)      | 显示ODV帮助文档                                                                  |
| F4                            | 显示当前窗口的统计数据                                                           |
| F5                            | 刷新                                                                             |
| F8                            | 转到地图布局                                                                     |
| F9                            | 转到站位布局                                                                     |
| F10                           | 转到散点图布局                                                                   |
| F11                           | 转到断面布局                                                                     |
| F12                           | 转到平面分布布局                                                                 |
| Ctrl-Plus                       | 于鼠标的位置处放大                                                               |
| Ctrl-Minus                      | 于鼠标的位置处缩小                                                               |
| Ctrl-A                        | 添加文字注释                                                                     |
| Ctrl-C                        | 复制当下窗口中的数据到剪贴板。如果鼠标选取的是图形对象，则创建一个图形对象副本 |
| Ctrl-N                        | 新建文件                                                                         |
| Ctrl-O                        | 打开文件                                                                         |
| Ctrl-R                        | 在布局模式下，移动和调整窗口大小                                                 |
| Ctrl-S                        | 将当前窗口或者画布保存成图片文件                                                 |
| Ctrl-W or Ctrl+F4                    | 关闭当前netCDF文件                                                               |
| Ctrl-Z                          | 撤销上次操作                                                                     |
| Alt-D                           | 弹出派生变量对话框                                                               |
| Alt-P                           | 调出当前窗口属性对话框                                                           |
| Alt-S                           | 调出站位选择器                                                                   |
| Alt-W                           | 调出窗口布局模式                                                                 |
| Alt-Z                           | 撤销所有操作                                                                     |
| Shft-E                          | 编辑基础数据和样品数据                                                           |
| Shft-L                          | 载入                                                                             |
| Shft-S                          | 调出样品选择器（样品范围和数据质量过滤器）                                       |
| Ctrl-,  (Mac only)              | 打开设置对话框                                                                   |
| ESC                             | 推出当前操作。在布局模式下，取消所有的布局调整，返回正常模式。                   |
| Ctrl-Q (Mac) Alt-F4(others) | 退出ODV                                                                          |

### 3.3 放大和缩小

右击地图或数据窗口，选择`Zoom`，ODV将进入到缩放模式。根据以下表格进行缩放操作。

| 操作                  | 对象               | 响应                       |
|-----------------------|--------------------|----------------------------|
| 鼠标左键拖拽          | 缩放区域的边界或角 | 调整缩放区域的大小         |
| 鼠标左键双击 或 Enter | 任意位置           | 接受当前设定并完成缩放操作 |
| 鼠标右键 或 Esc       | 任意位置           | 放弃缩放操作               |

### 3.4 寻点模式(GetPoint Mode)

当需要定义一条断面，或者进行画线(lines, polylines)，画多边形(polygons)操作时，ODV进入到寻点模式。该模式下，移动鼠标即可从状态栏得知当前鼠标的位置，点击鼠标左键确定点。


| 操作         | 对象                 | 响应                         |
|--------------|----------------------|------------------------------|
| 鼠标左键点击 | 画布，地图或数据窗口 | 添加当前位置                 |
| 鼠标右键点击 | 画布，地图或数据窗口 | 移除最近的标记点位置         |
| Enter        | 任意位置             | 接受已定位目标，完成寻点模式 |
| Esc          | 任意位置             | 放弃操作                     |
